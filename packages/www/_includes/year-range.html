{% assign min_year = 9999 %}
{% assign max_year = 0 %}
{% assign has_ongoing = false %}

{% for project in include.resource._embedded.projects %}
  {% if project.begin_year and project.begin_year < min_year %}
    {% assign min_year = project.begin_year %}
  {% endif %}
  
  {% if project.begin_year and project.end_year == nil %}
    {% assign has_ongoing = true %}
  {% elsif project.end_year and project.end_year > max_year %}
    {% assign max_year = project.end_year %}
  {% endif %}
{% endfor %}

{% if min_year != 9999 %}
  <p>
    <em>
      {{ min_year }}
      {% if has_ongoing or min_year != max_year %} -
        {% if has_ongoing %}
          present
        {% else %}
          {{ max_year }}
        {% endif %}
      {% endif %}
    </em>
  </p>
{% endif %}
